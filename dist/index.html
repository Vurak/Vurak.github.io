<!DOCTYPE html>

<head>
    <title>test</title>
    <meta content="text/html;charset=utf-8" http-equiv="Content-Type">
    <meta content="utf-8" http-equiv="encoding">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link rel="stylesheet" href="style.css" />
</head>

<body class="bg-purple-even-darker no-scrollbar">

    <div id="root"></div>

    <script src="https://unpkg.com/react@17/umd/react.production.min.js" crossorigin></script>
    <script src="https://unpkg.com/react-dom@17/umd/react-dom.production.min.js" crossorigin></script>
    <script src="https://unpkg.com/babel-standalone@6/babel.min.js"></script>
    <script type="text/javascript" src="../node_modules/rellax/rellax.min.js"></script>

    <script type="text/babel">
        
        function Title({text='', children}) {
            console.log("rendered title")
            return (
                <div className="relative flow flex-wrap h-20 w-full font-bold">
                    <div className="w-full px-6 py-4">
                        <div className="font-bold text-3xl text-indigo-400">{children}</div>
                        <p className="text-gray-300 text-base">
                            {text}
                        </p>
                        <hr className="w-full border-3 mt-1"/>
                    </div>
                </div>
            )
        }

        function GridElement({title, imgUrl, children}) {
            console.log("rendered grid element")
            const [expand, setExpand] = React.useState(false)
            return (
                <div className="relative block h-200 font-bold" data-rellax-speed="2">
                    <div className="grid grid-flow-row-dense md:grid-flow-col rounded w-auto overflow-hidden my-5 mx-2 md:mx-5 bg-gray-900 shadow-xl  border-green-400 border-t-6 md:border-t-0 md:border-l-8 md:hover:border-l-20 hover:bg-gray-700 duration-200">
                        <div>
                            <img className="object-cover h-48 w-full min-w-0 max-w-lg md:w-full md:h-full" src={imgUrl} alt="Mountain"/>
                        </div>
                        <div className="px-6 py-4">
                            <div className="font-bold text-xl text-indigo-400 mb-2">{title}</div>
                            <p className="text-gray-300 text-base">
                                {children}
                            </p>
                        </div>
                    </div>
                </div>
            )
        }

        function Drop({o="100", ...props}) {
            console.log("rendered bar")
            return (
                <div 
                className={`flex opacity-${o} absolute rellax-rain w-2 z-${props.z} bg-indigo-${(props.c-1)*100} mx-px md:mx-0.2 rounded-lg`} 
                style={{'height' : `${props.h}rem`, 'top': `${props.t}%`, 'left': `${props.l}%`}}
                data-rellax-speed={`${props.s}`}/>
            )
        }

        var dropsFront = []
        var dropsBack = []


        function Contents() {
            React.useEffect(() => {
                new Rellax('.rellax-rain')
            }, [])

            let n = Math.floor(window.innerWidth/30)
            
            for (let i = 1; i <= n; i++) {
                let rh = RandInt(1,7)
                let rs = RandInt(2,9)
                let rc = RandInt(0,heights.colors-1)
                let rt = Math.round(Math.random() * 100)
                let rl = Math.round(Math.random() * 99)
                dropsFront.push(<Drop h={rh} s={rs} c={colors[rs]} t={rt} l={rl} z="20" o="50"/>)
                
            }
            for (let i = 1; i <= n; i++) {
                let rh = RandInt(3,10)
                let rs = RandInt(2,12)
                let rc = RandInt(0,heights.colors-1)
                let rt = Math.round(Math.random() * 100)
                let rl = Math.round(Math.random() * 100)
                dropsBack.push(<Drop h={rh} s={rs} c={colors[rs]} t={rt} l={rl} z="0"/>)
            }

            return (
                <section className="h-screen">
                    <div className="h-full2 relative items-end justify-items-end ">
                        <div className="relative flow flex-row items-end top-0 h-1/3 w-full flex-wrap"></div>
                        <div className="rain-rellax-wrapper relative flow flex-row items-end bg-purple-even.darker bottom-0 w-full">
                            {dropsFront}{dropsBack}
                            <Title>Projects</Title>
                            <GridElement title="LMGTFY Firefox Add-on" imgUrl="../img/stove.png"> 
                                Lorem ipsum dolor sit amet, consectetur adipisicing elit. Perferendis eum veritatis neque nisi, 
                                enim illum fugit fuga corrupti minima labore dolores reiciendis aliquid, laudantium quam beatae 
                                sint atque rerum modi.    
                            </GridElement>
                            <GridElement title="Dog Nights Game" imgUrl="../img/genbot.png"> 
                                Lorem ipsum dolor sit amet, consectetur adipisicing elit. Perferendis eum veritatis neque nisi, 
                                enim illum fugit fuga corrupti minima labore dolores reiciendis aliquid, laudantium quam beatae 
                                sint atque rerum modi.    
                            </GridElement>
                            <GridElement title="Dog Nights Game" imgUrl="../img/genbot.png"> 
                                Lorem ipsum dolor sit amet, consectetur adipisicing elit. Perferendis eum veritatis neque nisi, 
                                enim illum fugit fuga corrupti minima labore dolores reiciendis aliquid, laudantium quam beatae 
                                sint atque rerum modi.    
                            </GridElement>
                            <GridElement title="Dog Nights Game" imgUrl="../img/genbot.png"> 
                                Lorem ipsum dolor sit amet, consectetur adipisicing elit. Perferendis eum veritatis neque nisi, 
                                enim illum fugit fuga corrupti minima labore dolores reiciendis aliquid, laudantium quam beatae 
                                sint atque rerum modi.    
                            </GridElement>
                            <GridElement title="Dog Nights Game" imgUrl="../img/genbot.png"> 
                                Lorem ipsum dolor sit amet, consectetur adipisicing elit. Perferendis eum veritatis neque nisi, 
                                enim illum fugit fuga corrupti minima labore dolores reiciendis aliquid, laudantium quam beatae 
                                sint atque rerum modi.    
                            </GridElement>
                            <GridElement title="Dog Nights Game" imgUrl="../img/genbot.png"> 
                                Lorem ipsum dolor sit amet, consectetur adipisicing elit. Perferendis eum veritatis neque nisi, 
                                enim illum fugit fuga corrupti minima labore dolores reiciendis aliquid, laudantium quam beatae 
                                sint atque rerum modi.    
                            </GridElement>
                        
                        </div>
                    </div>
                </section>
            )
        }
        
        

        function Bar(props) {
            console.log("rendered bar")
            return (
                <div 
                className={`flex rellax w-full z-0 bg-indigo-${Math.abs(props.c)-1+"00"} mx-px md:mx-0.2 rounded${props.loc ? "-" + props.loc : ""}-lg`} 
                style={{'height' : `${props.h}%`}}
                data-rellax-speed={`${props.s}`}/>
            )
        }

        function RandInt(min, max) {
            min = Math.ceil(min);
            max = Math.floor(max);
            return Math.floor(Math.random() * (max - min + 1)) + min;
        }
        
        var barsTop = []
        var barsBot = []
        var heights = ["10", "1/6", "1/5", "1/3", "2/5", "1/2", "3/5", "2/3", "3/4", "4/5", "5/6", "full"]
        var speeds = [4, 5, 6, 7, 8, 9, 10]
        var colors = [6, 6, 6, 7, 7, 7, 8, 8, 8, 9, 9, 9]
        

        function Landing() {
            console.log("rendered landing")
            const [mult, setMult] = React.useState(10)

            React.useEffect(() => {
                new Rellax('.rellax')
            }, [])

            let n = Math.floor(window.innerWidth/7)
            console.log(n)

            barsTop = []
            barsBot = []

            for (let i = 1; i <= n; i++) {
                let r = RandInt(0,heights.length-1)
                let rs = RandInt(0,speeds.length-1)
                let rc = 100 * (i / (n))**(mult/100)
                barsTop.push(<Bar h={rc} loc="b" s={speeds[rs]} c={colors[rs]}/>)
                barsBot.push(<Bar h={rc} loc="t" s={-speeds[rs]} c={colors[rs]}/>)
            }
            barsBot.reverse()
            return(
                <section className="h-screen w-full">
                    <div className="h-full2">
                        <div className="flex sticky top-0 justify-center items-center h-screen w-auto text-center">
                            
                           
                            
                            {/**
                            <div className="flex absolute w-full h-2/3 pb-0 top-0 items-start z-10">
                                <input type="text" value={mult} onChange={event => {setMult(event.target.value)}} className="border-4"/>
                            </div>**/}

                            <header className="shadow-sm absolute w-auto bg-purple-even-darker z-10 border-indigo-600 border-10 rounded-full">
                                    <div className="relative text-center items-center p-4">
                                        <div className="flex relative w-full h-2/3 items-start z-10">
                                            </div>
                                            <input type="range" min="1" max="500" value={mult} onChange={event => { setMult(event.target.value)}} className="hidden md:inline h-5 slider rounded-lg bg-indigo-200"
                                            />
                                        <h1 className="text-indigo-400 text-3xl font-sans font-extrabold">FREDERICK OLD</h1>
                                        <span className="text-lg font-bold text-indigo-200">Turd Monger</span>
                                    </div>
                            </header>

                            <div class="flex absolute w-full h-1/2 pb-0 top-0 items-start z-0">
                                {barsTop}
                            </div>
                            <div class="flex absolute w-full h-1/2 pt-0 bottom-0 items-end z-0 overflow-y-hidden">
                                {barsBot}
                            </div>

                        </div>
                    </div>
                </section>
            )
        }

        function Headers(sidebar, setSidebar) {
            console.log("rendered header")
            return(
                [
                    <header className="shadow-sm w-full top-0">
                        <div className="max-auto px-8 py-4">
                            <div className="text-center">
                                <div className="app-name ">
                                    <h1 className="text-green-300 text-3xl font-sans font-bold">FREDERICK OLD</h1>
                                    <span className="text-lg text-blue-300">Game Developer</span>
                                </div>
                            </div>
                        </div>
                    </header>,
                    <div className="bg-gray-800 text-gray-100 flex justify-between md:hidden">
                        {/* LOGO */}
                        <a href="#" className="block p-4 text-white font-bold">Better Dev</a>

                        {/* MOBILE MENU BUTTON */}
                        <button className="mobile-menu-button p-4 focus:outline-none focus:bg-gray-700" onClick={() => {setSidebar(!sidebar); console.log(sidebar)}}>
                            <svg className="h-5 w-5" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path strokeLinecap="round" strokeLinejoin="round" strokeWidth="2" d="M4 6h16M4 12h16M4 18h16" />
                            </svg>
                        </button>
                    </div>
                ]
            )
        }

        // function Sidebar (sidebar) {
            
        //     return(
        //         <div key="asdad"
        //             className={"sidebar bg-gray-700 text-blue-100 w-64 space-y-6 py-7 absolute inset-y-0 left-0 transform" + (sidebar ? " " : " -translate-x-full ") + "md:relative md:translate-x-0 transition duration-200 ease-in-out"}>
        //             {console.log(sidebar ? "hidden" : "-translate-x-full")}
        //             {/* LOGO */}
        //             <a href="#" className="text-white flex items-center space-x-2 px-4">
        //                 <svg className="w-8 h-8" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
        //                     <path strokeLinecap="round" strokeLinejoin="round" strokeWidth="2"
        //                         d="M9 12l2 2 4-4M7.835 4.697a3.42 3.42 0 001.946-.806 3.42 3.42 0 014.438 0 3.42 3.42 0 001.946.806 3.42 3.42 0 013.138 3.138 3.42 3.42 0 00.806 1.946 3.42 3.42 0 010 4.438 3.42 3.42 0 00-.806 1.946 3.42 3.42 0 01-3.138 3.138 3.42 3.42 0 00-1.946.806 3.42 3.42 0 01-4.438 0 3.42 3.42 0 00-1.946-.806 3.42 3.42 0 01-3.138-3.138 3.42 3.42 0 00-.806-1.946 3.42 3.42 0 010-4.438 3.42 3.42 0 00.806-1.946 3.42 3.42 0 013.138-3.138z" />
        //                 </svg>
        //                 <span className="text-2xl font-extrabold">Better Dev</span>
        //             </a>

        //             <nav>
        //                 <a href="" className="block py-2.5 px-4 transition duration-200 hover:bg-green-500 hover:text-black">
        //                     Resume
        //                 </a>
        //                 <a href="" className="block py-2.5 px-4 transition duration-200 hover:bg-green-500 hover:text-black">
        //                     About
        //                 </a>
        //                 <a href="" className="block py-2.5 px-4 transition duration-200 hover:bg-green-500 hover:text-black">
        //                     Features
        //                 </a>
        //                 <a href="" className="block py-2.5 px-4 transition duration-200 hover:bg-green-500 hover:text-black">
        //                     Pricing
        //                 </a>
        //             </nav>
        //         </div>
        //     )
        // }

        function App() {
            const [sidebar, setSidebar] = React.useState(false)
            return(
                [
                    <div class="absolute w-full no-scrollbar">
                        <Landing/>
                        <Contents/>
                        
                    </div>
                ]
            )
        }

        console.log("rendered")
        ReactDOM.render(<App />, document.getElementById('root'))
      </script>
</body>